DIR_NAME="/root/profile_execute"
LOG_NAME="/root/log"

if [ ! -d "$DIR_NAME" ]; then
    echo "Created new profile directory"
    mkdir $DIR_NAME
fi

if [ ! -d "$LOG_NAME" ]; then
    echo "Created new log directory"
    mkdir $LOG_NAME
    touch "/root/log/log_profile"
fi

wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/port_config
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/router_setup_1
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/router_setup_2
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/router_basic_setup
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/refs/heads/main/router_setup/check_status
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/refs/heads/main/router_setup/network_refresh
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/main_config
wget https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_setup/make_forwarding

chmod +x port_config
chmod +x router_basic_setup
chmod +x check_status
chmod +x network_refresh
chmod +x main_config
chmod +x make_forwarding
chmod +x router_setup_*

# after, make sure that router_info file is in $DIR_NAME directory

wget -O $(echo $DIR_NAME/profile_connective) https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_profile/profile_connective
wget -O $(echo $DIR_NAME/profile_default) https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_profile/profile_default
wget -O $(echo $DIR_NAME/profile_pow_saving) https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_profile/profile_pow_saving
wget -O $(echo $DIR_NAME/profile_user_limit) https://raw.githubusercontent.com/KwonNaeHyeon/wasin-infra/main/router_profile/profile_user_limit

chmod +x $(echo "$DIR_NAME/profile_*")



